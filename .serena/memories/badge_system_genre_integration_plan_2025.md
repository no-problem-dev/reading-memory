# バッジシステムのジャンル統合改善案

## 現状分析

### 既存のジャンル別バッジ
- mystery_lover: ミステリー愛好家（10冊）Bronze
- business_expert: ビジネスエキスパート（20冊）Silver  
- self_help_master: 自己啓発マスター（15冊）Silver
- tech_guru: 技術書の達人（30冊）Gold

### 問題点
1. 18種類のジャンルのうち、4つしかバッジが用意されていない
2. 段階的な成長を示すバッジが不足
3. ジャンルの多様性を評価する仕組みがない
4. カテゴリー横断的な読書を評価していない

## 改善案

### 1. ジャンル別バッジの拡充（3段階制）

#### 小説・文学カテゴリー
- **文学・純文学**
  - 文学入門者 (5冊) Bronze
  - 文学愛好家 (15冊) Silver
  - 文学の達人 (30冊) Gold
  
- **ミステリー・推理**
  - ミステリー初心者 (5冊) Bronze
  - ミステリー愛好家 (15冊) Silver  
  - 名探偵 (30冊) Gold
  
- **SF・ファンタジー**
  - 宇宙飛行士見習い (5冊) Bronze
  - SF探検家 (15冊) Silver
  - 時空の旅人 (30冊) Gold

#### ビジネス・自己啓発カテゴリー
- **ビジネス・経済**
  - ビジネス初心者 (5冊) Bronze
  - ビジネスエキスパート (15冊) Silver
  - ビジネスマスター (30冊) Gold
  
- **自己啓発**
  - 成長への第一歩 (5冊) Bronze
  - 自己啓発マスター (15冊) Silver
  - 人生の師匠 (30冊) Gold

### 2. 多様性バッジ

#### ジャンル多様性
- **ジャンル開拓者** - 5つの異なるジャンルで各1冊以上読了
- **ジャンルマスター** - 10個の異なるジャンルで各1冊以上読了
- **オムニリーダー** - すべてのジャンル（18種類）で各1冊以上読了

#### カテゴリー制覇
- **小説・文学制覇** - 小説・文学カテゴリーの全ジャンルで各3冊以上
- **ビジネス達人** - ビジネス・自己啓発カテゴリーの全ジャンルで各3冊以上
- **学術探究者** - 専門書・学術カテゴリーの全ジャンルで各3冊以上
- **ライフスタイルマスター** - ライフスタイルカテゴリーの全ジャンルで各3冊以上

### 3. 特別バッジ

#### バランス型読書
- **バランスリーダー** - 4つのカテゴリーすべてで各5冊以上読了
- **読書の達人** - 4つのカテゴリーすべてで各15冊以上読了

#### 月間チャレンジ
- **月間ジャンルチャレンジ** - 1ヶ月で3つの異なるジャンルの本を読了
- **ジャンル横断月間** - 1ヶ月で4つの異なるカテゴリーから各1冊読了

### 4. 実装に必要な新しい RequirementType
- genreVariety: ジャンルの多様性をカウント
- categoryComplete: カテゴリー内全ジャンル制覇
- balancedReading: カテゴリー横断的な読書
- monthlyGenreChallenge: 月間ジャンルチャレンジ

## 技術的な実装

### BadgeRequirement の拡張案
```swift
struct BadgeRequirement {
    let type: RequirementType
    let value: Int
    let genre: String?
    let genres: [String]? // 複数ジャンル対応
    let category: BookGenre.GenreCategory? // カテゴリー指定
    let timeframe: TimeFrame? // 月間、年間など
}

enum TimeFrame {
    case monthly
    case yearly
    case allTime
}
```

### 新しい計算ロジック
- ユニークジャンル数のカウント
- カテゴリー内のジャンルカバー率
- 時間枠内での達成状況

## メリット
1. ユーザーの読書の幅を広げる動機付け
2. 段階的な成長を実感できる
3. 多様な読書スタイルを評価
4. より豊富なバッジによるゲーミフィケーション強化